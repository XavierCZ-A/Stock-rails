<nav class="flex justify-end items-center mb-6">
  <div class="flex items-center space-x-2">
    <%= form_with url: upload_products_path, multipart: true, data: { controller: "file-upload" } do |form| %>
      <div class="flex items-center space-x-2">
        <label class="flex items-center text-black shadow-lg rounded-lg p-3">
          <%= tabler_icon('upload', size: '20', class: "mr-2") %>
          Importar productos
          <%= file_field_tag :csv_file, accept: ".csv", class: "hidden", id: "csv_file_input", data: { file_upload_target: "input", action: "change->file-upload#toggleButton" } %>
        </label>
        <%= form.button class: "flex items-center text-white bg-[#7C5BF3] hover:bg-[#9576F5] rounded-lg p-3 hidden", data: { file_upload_target: "submit" } do %>
          <%= tabler_icon('upload', size: '20', class: "mr-2") %>
          <span>Subir</span>
        <% end %>
      </div>
    <% end %>
    <%= link_to products_path(format: :csv), class: "flex items-center text-white bg-[#7C5BF3] hover:bg-[#9576F5] rounded-lg p-3" do %>
      <%= tabler_icon('file-type-csv', size: '20', class: "mr-2") %>
      Generar CSV
    <% end %>
    <%= link_to new_product_stock_path, class: 'flex items-center text-white bg-[#7C5BF3] hover:bg-[#9576F5] rounded-lg p-3' do %>
      <%= tabler_icon('stack-3', size: '20', class: "mr-2") %>
      Agregar stock
    <% end %>
    <%= link_to new_product_path, class: 'flex items-center text-white bg-[#7C5BF3] hover:bg-[#9576F5] rounded-lg p-3' do %>
      <%= tabler_icon('plus', size: '20', class: "mr-2") %>
      Agregar producto
    <% end %>
  </div>
</nav>

<nav>
  <%= form_with url: products_path, method: :get do |form| %>
    <div class="flex justify-between items-center space-x-4">
      <div class="relative w-64">
        <%= form.text_field :query_text, placeholder: 'Search', onChange: 'this.form.requestSubmit()', value: params[:query_text], class: "w-full py-2 pl-10 pr-4 text-gray-700 bg-white border rounded-full focus:outline-none focus:border-blue-500 focus:ring-1 focus:ring-blue-500 transition-colors duration-300" %>
        <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
          <%= tabler_icon('search', size: '20', class: "mr-2") %>
        </div>
      </div>
      <div class="relative w-64">
        <%= form.collection_select :category_id, Category.all, :id, :name, { prompt: 'Select a category', include_blank: true }, { onChange: 'this.form.requestSubmit()', class: "w-full py-2 pl-10 pr-4 text-gray-700 bg-white border rounded-full focus:outline-none focus:border-blue-500 focus:ring-1 focus:ring-blue-500 transition-colors duration-300" } %>
        <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
          <%= tabler_icon('category', size: '20', class: "mr-2") %>
        </div>
      </div>
      <div class="relative w-64">
        <%= form.text_field :stock_min, placeholder: 'Stock min', onChange: 'this.form.requestSubmit()', value: params[:stock_min], class: "w-full py-2 pl-10 pr-4 text-gray-700 bg-white border rounded-full focus:outline-none focus:border-blue-500 focus:ring-1 focus:ring-blue-500 transition-colors duration-300" %>
        <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
          <%= tabler_icon('stack-3', size: '20', class: "mr-2") %>
        </div>
      </div>
      <div class="relative w-64">
        <%= form.text_field :price_min, placeholder: 'Price min', onChange: 'this.form.requestSubmit()', value: params[:price_min], class: "w-full py-2 pl-10 pr-4 text-gray-700 bg-white border rounded-full focus:outline-none focus:border-blue-500 focus:ring-1 focus:ring-blue-500 transition-colors duration-300" %>
        <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
          <%= tabler_icon('currency-dollar', size: '20', class: "mr-2") %>
        </div>
      </div>
    </div>
  <% end %>
</nav>



